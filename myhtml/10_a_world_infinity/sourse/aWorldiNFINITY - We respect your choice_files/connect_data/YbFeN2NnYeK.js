if (self.CavalryLogger) { CavalryLogger.start_js(["KOEW6"]); }

__d('PluginLoggedOutUserTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PluginLoggedOutUserLoggerConfig',this.$PluginLoggedOutUserTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PluginLoggedOutUserLoggerConfig',this.$PluginLoggedOutUserTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$PluginLoggedOutUserTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PluginLoggedOutUserTypedLogger1=babelHelpers['extends']({},this.$PluginLoggedOutUserTypedLogger1,j);return this};h.prototype.setHref=function(j){this.$PluginLoggedOutUserTypedLogger1.href=j;return this};h.prototype.setIsSDK=function(j){this.$PluginLoggedOutUserTypedLogger1.is_sdk=j;return this};h.prototype.setPluginAppID=function(j){this.$PluginLoggedOutUserTypedLogger1.plugin_app_id=j;return this};h.prototype.setPluginName=function(j){this.$PluginLoggedOutUserTypedLogger1.plugin_name=j;return this};h.prototype.setRefererURL=function(j){this.$PluginLoggedOutUserTypedLogger1.referer_url=j;return this};h.prototype.setVC=function(j){this.$PluginLoggedOutUserTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$PluginLoggedOutUserTypedLogger1=babelHelpers['extends']({},this.$PluginLoggedOutUserTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={href:true,is_sdk:true,plugin_app_id:true,plugin_name:true,referer_url:true,vc:true};f.exports=h}),null);
__d('PluginTabLoadMore',['CSS','Event'],(function a(b,c,d,e,f,g){'use strict';var h={noMoreContent:function i(){c('Event').fire(this.root,'noMoreContent');c('CSS').hide(this.spinner)},setCursor:function i(j){c('Event').fire(this.root,'setCursor',j)},init:function i(j,k){this.root=j;this.spinner=k}};f.exports=h}),null);
__d("PluginConnectButtonType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLUE_BASE:1,WHITE_BASE:2})}),null);
__d('PluginFlyout',['csx','Arbiter','Button','CSS','DOM','DOMEvent','DOMEventListener','Focus','FormSubmit','Plugin','TextAreaControl'],(function a(b,c,d,e,f,g,h){var i=c('Arbiter').SUBSCRIBE_NEW,j=c('Arbiter').subscribe,k=c('Arbiter').inform,l=function n(o,p){return c('DOMEventListener').add(o,'click',p)};function m(n,o,p){var q=this,r=j(c('Plugin').CONNECT,function(event,s){c('Arbiter').unsubscribe(r);q.init(n,o,p);q.connect(event,s)},i);j(c('Plugin').DIALOG,function(){q.init(n,o,p);q.toggle()},i)}Object.assign(m.prototype,{init:function n(o,p,q){if(this.initialized)return;this.initialized=true;c('DOM').appendContent(o,JSON.parse(q));var r=c('DOM').find(o,'form'),s=c('DOM').find(r,"._56zw"),t=c('DOM').find(r,"._56zx"),u=c('DOM').find(r,"._42x4"),v=c('TextAreaControl').getInstance(u);c('DOMEventListener').add(u,'keyup',function(z){c('Button').setEnabled(s,!!v.getValue())});c('DOMEventListener').add(window,'keydown',function(z){if(z.keyCode===27)x();});c('DOMEventListener').add(r,'submit',function(z){new (c('DOMEvent'))(z).kill();c('FormSubmit').send(r)});var w=p==='tiny'?c('DOM').find(document.body,'.pluginPostFlyoutPrompt'):null;this.flyout=o;this.form=r;this.post_button=s;this.prompt=w;var x=this.hide.bind(this),y=this.show.bind(this);l(t,function(z){new (c('DOMEvent'))(z).kill();x()});if(w)l(w,function(z){new (c('DOMEvent'))(z).kill();y()});j(c('Plugin').CONNECT,this.connect.bind(this),i);j(c('Plugin').DISCONNECT,function(){x()},i);j(m.SUCCESS,function(){x();if(w)c('CSS').hide(w);},i);j(c('Plugin').ERROR,function(event,z){if(z.action!=='comment')return;c('DOM').setContent(c('DOM').find(r,"._56zy"),z.content);c('CSS').hide(s)},i)},connect:function n(event,o){if(o.crossFrame)return;if(this.prompt)c('CSS').show(this.prompt);if(!o.story_fbid)this.show();},show:function n(){this.shown=true;c('CSS').show(this.flyout);c('CSS').show(this.post_button);var o=c('DOM').scry(this.form,"._5jjo");if(o){c('Focus').set(o[0])}else c('Focus').set(this.form.comment);k(m.SHOW)},hide:function n(){this.shown=false;c('CSS').hide(this.flyout);k(m.HIDE)},toggle:function n(){if(this.shown){this.hide()}else this.show();}});Object.assign(m,{SUCCESS:'platform/plugins/flyout/success',SHOW:'platform/plugins/flyout/show',HIDE:'platform/plugins/flyout/hide',success:function n(){k(m.SUCCESS)}});f.exports=m}),null);
__d('PluginOptin',['DOMEvent','DOMEventListener','PluginMessage','PopupWindow','URI','UserAgent_DEPRECATED','PlatformWidgetEndpoint','PluginLoggedOutUserTypedLogger'],(function a(b,c,d,e,f,g){function h(i,j){Object.assign(this,{return_params:c('URI').getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:i,api_key:j});this.addReturnParams({ret:'optin'});delete this.return_params.hash}Object.assign(h.prototype,{addReturnParams:function i(j){Object.assign(this.return_params,j);return this},addLoginParams:function i(j){Object.assign(this.login_params,j);return this},addOptinParams:function i(j){Object.assign(this.optin_params,j);return this},start:function i(){var j=this.api_key||127760087237610;if(c('URI').getRequestURI().getQueryData().kid_directed_site)this.login_params.kid_directed_site=true;var k=new (c('URI'))(c('PlatformWidgetEndpoint').dialog('plugin.optin')).addQueryData(this.optin_params).addQueryData({app_id:j,secure:c('URI').getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});if(c('UserAgent_DEPRECATED').mobile()){k.setSubdomain('m')}else k.addQueryData({display:'popup'});if(this.return_params.act!==null&&this.return_params.act==='send')new (c('PluginLoggedOutUserTypedLogger'))().setPluginAppID(j).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital();this.popup=c('PopupWindow').open(k.toString(),420,450);c('PluginMessage').listen();return this}});h.starter=function(i,j,k,l){var m=new h(i);m.addReturnParams(j||{});m.addLoginParams(k||{});m.addOptinParams(l||{});return m.start.bind(m)};h.listen=function(i,j,k,l,m){c('DOMEventListener').add(i,'click',function(n){new (c('DOMEvent'))(n).kill();h.starter(j,k,l,m)()})};f.exports=h}),null);
__d('PluginConnectButton',['csx','cx','Arbiter','CSS','DOM','DOMDimensions','DOMEvent','DOMEventListener','Focus','FormSubmit','PlatformWidgetEndpoint','Plugin','PluginConnectButtonType','PluginFlyout','PluginOptin','Style','URI','getElementPosition'],(function a(b,c,d,e,f,g,h,i){var j=c('Arbiter').SUBSCRIBE_NEW,k=c('Arbiter').subscribe,l=function n(o,p){return c('DOMEventListener').add(o,'click',p)};function m(n){this.config=n;this.busy=false;var o=c('DOM').find(n.form,'.pluginConnectButton');this.buttons=o;this.node_connected=c('DOM').find(o,'.pluginConnectButtonConnected');this.node_disconnected=c('DOM').find(o,'.pluginConnectButtonDisconnected');var p=function(r){new (c('DOMEvent'))(r).kill();if(!this.busy){this.submit();this.busy=this.canpersonalize}}.bind(this);l(this.node_disconnected,p);if(n.buttontype===c('PluginConnectButtonType').BLUE_BASE){l(c('DOM').find(o,'.pluginButtonX button'),p)}else if(n.buttontype===c('PluginConnectButtonType').WHITE_BASE)l(this.node_connected,p);l(this.node_connected,function(r){return c('Arbiter').inform(c('Plugin').DIALOG,r)});var q=this.update.bind(this);k(c('Plugin').CONNECT,q,j);k(c('Plugin').DISCONNECT,q,j);k(c('Plugin').ERROR,this.error.bind(this),j);k('Connect.Unsafe.xd/reposition',this.flip.bind(this));k(c('PluginFlyout').HIDE,this.hideFlyout.bind(this));if(n.autosubmit)setTimeout(this.submit.bind(this),0);}Object.assign(m.prototype,{update:function n(o,event){this.busy=false;var p=this.config;if(event.identifier!==p.identifier)return;var q=o===c('Plugin').CONNECT,r=c('PlatformWidgetEndpoint').plugins(p.plugin);r+='/'+(!q?'connect':'disconnect');c('CSS')[q?'show':'hide'](this.node_connected);c('CSS')[q?'hide':'show'](this.node_disconnected);try{if(document.activeElement.nodeName.toLowerCase()==='button'){var s=q?this.node_connected:this.node_disconnected,t=c('DOM').find(s,'button');t.disabled=false;c('Focus').set(t)}}catch(u){}p.connected=q;p.form.setAttribute('action',r);p.form.setAttribute('ajaxify',r)},error:function n(event,o){this.busy=false;if(o.action in {connect:1,disconnect:1}){c('DOM').setContent(this.buttons,o.content);var p=c('DOM').scry(this.buttons,'.confirmButton');if(p.length===1)c('Focus').set(p[0]);}},submit:function n(){if(!this.config.canpersonalize)return this.login();c('FormSubmit').send(this.config.form);this.fireStateToggle()},fireStateToggle:function n(){var o=this.config;if(o.connected){c('Plugin').disconnect(o.identifier)}else c('Plugin').connect(o.identifier);},login:function n(){var o=this.config.plugin;new (c('PluginOptin'))(o,c('URI').getRequestURI().getQueryData().api_key).addReturnParams({act:'connect'}).addLoginParams({social_plugin_action:this.config.pluginaction,kid_directed_site:this.config.kidDirectedSite}).start()},flip:function n(o,p){var q=c('DOM').scry(document.body,"._4xn8");if(q.length===0){return}else q=q[0];var r=c('DOM').scry(this.config.form,'.pluginConnectButtonConnected .pluginButtonIcon'),s=c('Style').get(r[0],'display')!=='none'?r[0]:r[1],t=c('DOM').find(document.body,'.pluginConnectButtonLayoutRoot'),u;if(p.type==='reposition'){c('CSS').addClass(t,"_1f8a");c('Style').set(t,'padding-left',450-t.offsetWidth+'px');c('CSS').removeClass(t,"_1f8b");u=c('getElementPosition')(s).x+c('DOMDimensions').getElementDimensions(s).width/2-6}else{c('CSS').addClass(t,"_1f8b");c('Style').set(t,'padding-left','0px');c('CSS').removeClass(t,"_1f8a");u=6}c('Style').set(q,'left',u+'px')},hideFlyout:function n(){c('Focus').set(this.connected?this.node_disconnected:this.node_connected)}});f.exports=m}),null);
__d("EmbeddedPostPluginActionTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK:"click"})}),null);
__d("EmbeddedPostPluginActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EMBEDDED_POSTS_COMMENT:"embedded_post_comment",EMBEDDED_POSTS_LIKE:"embedded_post_like",EMBEDDED_POSTS_SHARE:"embedded_post_share",EMBEDDED_POSTS_UNLIKE:"embedded_post_unlike"})}),null);
__d("XPostPluginLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/platform\/plugin\/post\/logging\/",{})}),null);
__d('PluginFeedFooterActionLogger',['AsyncRequest','DOM','EmbeddedPostPluginActions','EmbeddedPostPluginActionTypes','Event','XPostPluginLoggingController'],(function a(b,c,d,e,f,g){var h={initializeClickLoggers:function i(j,k,l,m,n,o,p,q,r){var s=function t(u,v){try{var w=c('DOM').find(j,'.'+u);c('Event').listen(w,'click',function(x){new (c('AsyncRequest'))().setURI(c('XPostPluginLoggingController').getURIBuilder().getURI()).setData({action:v,action_type:c('EmbeddedPostPluginActionTypes').CLICK,source:o,story_token:p,referer_url:q,is_sdk:r}).send()})}catch(x){}};s(k,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_LIKE);s(l,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_UNLIKE);s(m,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_COMMENT);s(n,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_SHARE)}};f.exports=h}),null);
__d('PluginFeedLikeButton',['Arbiter','AsyncFormRequestUtils','ClientIDs','CSS','DOM','DOMEventListener','FBFeedLocations','FormSubmit','Keys','PluginOptin','URI'],(function a(b,c,d,e,f,g){window.resetConfirmStoryLike=function(i){c('CSS').show(c('DOM').find(document,'#likeStory_'+i));c('DOM').remove(c('DOM').find(document,'#confirmStory_'+i))};var h={addClientId:function i(j){j.setAttribute('value',c('ClientIDs').getNewClientID())},loggedOutLikeButton:function i(j,k,l){var m='';if(k===c('FBFeedLocations').EMBED){m='post'}else if(k===c('FBFeedLocations').PAGE_PLUGIN){m='page'}else throw new Error('Invalid FBFeedLocation type.');var n=new (c('PluginOptin'))(m).addReturnParams({act:'like_'+j});c('DOMEventListener').add(l,'click',n.start.bind(n))},init:function i(j,k,l,m,n){var o=function r(s){if(s.type==='keypress')if(s.keyCode===c('Keys').RETURN||s.keyCode===c('Keys').SPACE){c('FormSubmit').send(n)}else return;c('FormSubmit').send(n)};c('DOMEventListener').add(k,'click',o);c('DOMEventListener').add(l,'click',o);c('DOMEventListener').add(k,'keypress',o);c('DOMEventListener').add(l,'keypress',o);var p=m.getAttribute('value')==='1';c('AsyncFormRequestUtils').subscribe(n,'send',function(r){var s=m.getAttribute('value')==='1';c('CSS').conditionShow(l,s);c('CSS').conditionShow(k,!s);c('Arbiter').inform('embeddedUfiToggle',{isLike:s,storyToken:j});m.setAttribute('value',s?'':'1')});c('AsyncFormRequestUtils').subscribe(n,'response',function(r){var s=r.response.payload;if(s&&!s.success){var t=s.isLike;c('CSS').conditionShow(k,t);c('CSS').conditionShow(l,!t);c('Arbiter').inform('revertLike',{isLike:t,storyToken:j});m.setAttribute('value',t?'1':'')}});var q=new (c('URI'))(window.location.search).getQueryData();if(p&&q.act==='like_'+j)c('FormSubmit').send(n);}};f.exports=h}),null);